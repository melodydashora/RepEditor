# ===============================
# Vecto Pilot — gateway-core (.env.example)
# Unified SDK (GPT-5) + Triad unchanged
# ===============================

# ---- Security / Auth ----
# Generate:  openssl rand -hex 32
SDK_TOKEN=changeme_64hex
GW_KEY=changeme_64hex                 # legacy accepted
AGENT_TOKEN=changeme_64hex            # legacy accepted
EIDOLON_TOKEN=changeme_64hex          # legacy accepted
ASSISTANT_OVERRIDE_TOKEN=changeme_64hex

# ---- Unified SDK Identity ----
SDK_IDENTITY=Vecto Pilot AI Assistant (Unified SDK • GPT-5)
SDK_PROVIDER=openai
SDK_MODEL=gpt-5
SDK_MAX_OUTPUT_TOKENS=64000
SDK_TEMPERATURE=1.0
SDK_REASONING_MODE=extended

# Modalities
SDK_REALTIME_MODEL=gpt-realtime
SDK_TTS_MODEL=tts-1-hd
SDK_STT_MODEL=gpt-5
SDK_IMAGE_MODEL=gpt-image-1
SDK_EMBEDDING_MODEL=text-embedding-3-large
SDK_MODERATION_MODEL=omni-moderation-latest
SDK_SEARCH_MODEL=gpt-5-search-api

# Code mode (diff-first)
SDK_CODE_MODEL=gpt-5-codex
SDK_CODE_MODEL_MINI=codex-mini-latest
SDK_CODE_TEMPERATURE=0.2
SDK_CODE_MAX_OUTPUT_TOKENS=64000

# ---- OpenAI (shared) ----
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_ORG_ID=
OPENAI_PROJECT_ID=

# ---- Processes / Ports / Paths ----
PORT=5000                               # Gateway HTTP bind
GATEWAY_PORT=5000
SDK_PORT=3101                           # internal loopback SDK
EIDOLON_PORT=3101                       # alias for SDK_PORT (legacy)
AGENT_PORT=3102                         # ONLY if you still spawn legacy agent
GATEWAY_HOST=0.0.0.0
SDK_HOST=127.0.0.1
AGENT_HOST=127.0.0.1

BASE_DIR=/home/runner/workspace
STATE_DIR=${BASE_DIR}/data/state
SNAPSHOT_DIR=${BASE_DIR}/data/snapshots
CONTEXT_CACHE_DIR=${BASE_DIR}/data/cache
AGENT_FS_ROOT=${BASE_DIR}

# ---- UI origin / CORS ----
# Primary origin (the one your app uses). If you have several, comma-separate in UI_ORIGINS.
UI_ORIGIN=https://dev.melodydashora.dev
UI_ORIGINS=https://dev.melodydashora.dev,https://vectopilot.com,*.replit.dev,*.repl.co

# ---- Database ----
DATABASE_URL=postgres://user:pass@host:5432/dbname
PGSSLMODE=require

# ---- Capabilities (Unified) ----
AGENT=gpt-5
AGENT_PERSISTENT=true
AGENT_ALLOW_FS_READ=true
AGENT_ALLOW_FS_WRITE=true
AGENT_ALLOW_FS_DELETE=true
AGENT_ALLOW_SHELL=true
AGENT_SHELL_WHITELIST=*
AGENT_ALLOW_SQL_READ=true
AGENT_ALLOW_SQL_WRITE=true
AGENT_ALLOW_SQL_DDL=true
AGENT_ALLOW_HTTP=true
AGENT_ALLOW_WEBSEARCH=true
AGENT_MAX_MEMORY_MB=4096
AGENT_DESIGN_MODE=true
AGENT_RESEARCH_MODE=true
AGENT_ARCHITECTURE_MODE=true
AGENT_ENHANCED_CONTEXT=true
AGENT_SEMANTIC_SEARCH=true
AGENT_UNRESTRICTED=true
AGENT_ALLOW_PACKAGE_INSTALL=true
AGENT_ALLOW_DB_MIGRATIONS=true
AGENT_ALLOW_CONFIG_EDIT=true
AGENT_ALLOW_REPLIT_TOOLS=true
AGENT_AUTO_OPTIMIZE=true
AGENT_GIT_COMMIT_ENABLED=true
AGENT_MAX_WORKERS=4
SSE_HEARTBEAT_MS=15000

# ---- Assistant surface (parity retained) ----
ASSISTANT_FULL_ACCESS=true
ASSISTANT_FULL_OVERRIDE=true
ASSISTANT_MODEL=gpt-5

# ---- Triad (unchanged) ----
TRIAD_ENABLED=true
TRIAD_MODE=single_path
TRIAD_STRATEGIST_PROVIDER=openai
TRIAD_STRATEGIST_MODEL=gpt-5
TRIAD_STRATEGIST_TEMPERATURE=0.7
TRIAD_STRATEGIST_MAX_OUTPUT_TOKENS=32000
TRIAD_STRATEGIST_REASONING_MODE=extended
TRIAD_PLANNER_PROVIDER=openai
TRIAD_PLANNER_MODEL=gpt-5
TRIAD_PLANNER_TEMPERATURE=0.6
TRIAD_PLANNER_MAX_OUTPUT_TOKENS=64000
TRIAD_PLANNER_REASONING_MODE=extended
TRIAD_VALIDATOR_PROVIDER=openai
TRIAD_VALIDATOR_MODEL=gpt-5
TRIAD_VALIDATOR_TEMPERATURE=0.2
TRIAD_VALIDATOR_MAX_OUTPUT_TOKENS=8192
TRIAD_VALIDATOR_REASONING_MODE=low
TRIAD_FAIL_ON_INVALID=true
TRIAD_INVARIANT_NO_VENUE_INVENTION=true
TRIAD_INVARIANT_SCHEMA_STRICT=true
TRIAD_INVARIANT_WORD_CAPS=true
LLM_TOTAL_BUDGET_MS=120000
TRIAD_STRATEGIST_TIMEOUT_MS=90000
TRIAD_PLANNER_TIMEOUT_MS=60000
TRIAD_VALIDATOR_TIMEOUT_MS=20000

# ---- Research / Web ----
PERPLEXITY_ENABLED=true
PERPLEXITY_API_KEY=
PERPLEXITY_MODEL=sonar-pro
PERPLEXITY_MAX_TOKENS=4096
WEB_SEARCH_ENABLED=true
AGENT_WEBSEARCH_PROVIDER=perplexity

# ---- Git (optional server-side automations) ----
GIT_AUTHOR_NAME=Vecto Pilot
GIT_AUTHOR_EMAIL=bot@vectopilot.com
GIT_COMMIT_SIGNOFF=true
GIT_DEFAULT_BRANCH=main
GITHUB_TOKEN=                         # normally NOT set (we take X-GH-Token per request)
GIT_REMOTE=                            # e.g. https://oauth2:${GITHUB_TOKEN}@github.com/melodydashora/Vecto-Pilot.git

# ---- Logging / Ops ----
LOG_LEVEL=info
REQUEST_LOG_SAMPLE_RATE=0.05
TRACE_ERRORS=true

# ---- Replit metadata (non-secret) ----
REPL_ID=69f9de93-7dc3-48aa-9050-4c395406d344
REPL_SLUG=workspace
REPL_OWNER=melodydashora
REPLIT_DEV_DOMAIN=69f9de93-7dc3-48aa-9050-4c395406d344-00-3uat6a5ciur3j.riker.replit.dev
